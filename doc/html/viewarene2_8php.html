<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Starshine Online: Référence du fichier trunk/viewarene2.php</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Généré par Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Page&nbsp;principale</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
      <li><a href="dirs.html"><span>Répertoires</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_72030663e0f00126986f0653002ad98d.html">trunk</a>
  </div>
</div>
<div class="contents">
<h1>Référence du fichier viewarene2.php</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#1c73de215370276e3a85c875f4be2a6c">$viewer</a> = recupperso($_SESSION['ID'])</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#676d5318e23377117551e5ead156fdf7">$arene_masters</a> = array('irulan', 'azeroth', 'mylok','minus')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="viewarene2_8php.html#898248c6f0772cc779881fffc50ca91a">if</a>(in_array(strtolower($viewer['nom']), <br>
$arene_masters)) <a class="el" href="roi_2index_8php.html#c3eceeb81f31105aa439f443d8f5edb8">else</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#02da621901b8a695f9979c4b6878435e">$admin</a> = false</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#1ea21bf4b1af1ebda1b8c63b0e364ce9">$requete</a> = &quot;SELECT id FROM arenes_joueurs WHERE id = &quot;.$_SESSION['ID']</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#63a7a283ea5dee8af1e2d5a3435bf370">$req</a> = $<a class="el" href="classdb.html">db</a>-&gt;query($requete)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#f7a10ff175c7ccf01aecc329634865b0">$fichier_arene</a> = new DomDocument()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#9a9c214973f0d48acd7128c73f333a98">$arene_xml</a> = $fichier_arene-&gt;getElementsByTagName('viewarene')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="viewarene2_8php.html#5b12908e955b1d62c5d4a94b8595d5c6">foreach</a>($arene_xml as $type_arene)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#7176f7720263ce2faeeb36cc8c09c747">$coord</a> ['x'] = $xmin + round(($xmax - $xmin) / 2)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#fc13a2edebe36034d9fc149f1b9ee90c">$coord</a> ['y'] = $ymin + round(($ymax - $ymin) / 2)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#9cbfe95d61703a84674cecf0f4ff8370">for</a> ($i=$xmin;$i&lt;=$xmax;$i++) = &quot;SELECT COUNT(*) AS tot, ceil(x/10) as cx, ceil(y/10) as cy FROM journal WHERE DAY(time )=DAY(CURDATE())AND MONTH(time )=MONTH(CURDATE())AND YEAR(time )=YEAR(CURDATE())AND action ='attaque' AND x &lt;&gt; 0 AND y &lt;&gt; 0 GROUP BY cx, cy ORDER BY tot DESC&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#f3a16c5f0dd7a74cf9acf6a49fff73a7">$x</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#77b973d137fb33212e018b042df6e3e7">$y</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#3a1a1e3d9ca1b01420a05f83f96b3588">$row_map</a> = array()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#3080fd46a4909b3b73deb2430477d113">$index</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="viewarene2_8php.html#5b12908e955b1d62c5d4a94b8595d5c6">foreach</a>($liste_cases as $cases)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#304a5f3ee821ee7f0d715511a3a7c394">$row_j</a> = array()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#87e0802a923e3726cf7ca949e4a8aa65">$index_m</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#6e745d40e9df8b5cc8a1761b88713dc5">$x_joueurs</a> = $row_j[$index]['x']</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#4e9f7fae219ddc10f7fdb429bcb33e40">$y_joueurs</a> = $row_j[$index]['y']</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#4820d696737bb1b850dbb7bd14c59a90">$roy</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#59ef57bf7aa1bcf69b885a89fe5f482d">$race</a> = array()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#223fe6cddffc1406cf93390144f0f6f7">while</a> (($row=current($row_map))!==false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#5b12908e955b1d62c5d4a94b8595d5c6">foreach</a> ($race as $nom=&gt; $r)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="viewarene2_8php.html#898248c6f0772cc779881fffc50ca91a">if</a> ($<a class="el" href="classdb.html">db</a>-&gt;num_rows &gt; 0)</td></tr>

</table>
<hr><h2>Documentation des variables</h2>
<a class="anchor" name="02da621901b8a695f9979c4b6878435e"></a><!-- doxytag: member="viewarene2.php::$admin" ref="02da621901b8a695f9979c4b6878435e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="viewarene2_8php.html#898248c6f0772cc779881fffc50ca91a">if</a> (in_array(strtolower($viewer['nom']), $arene_masters)) <a class="el" href="roi_2index_8php.html#c3eceeb81f31105aa439f443d8f5edb8">else</a> $admin = false          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="676d5318e23377117551e5ead156fdf7"></a><!-- doxytag: member="viewarene2.php::$arene_masters" ref="676d5318e23377117551e5ead156fdf7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$arene_masters = array('irulan', 'azeroth', 'mylok','minus')          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9a9c214973f0d48acd7128c73f333a98"></a><!-- doxytag: member="viewarene2.php::$arene_xml" ref="9a9c214973f0d48acd7128c73f333a98" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$arene_xml = $fichier_arene-&gt;getElementsByTagName('viewarene')          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fc13a2edebe36034d9fc149f1b9ee90c"></a><!-- doxytag: member="viewarene2.php::$coord" ref="fc13a2edebe36034d9fc149f1b9ee90c" args="['y']" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$coord['y'] = $ymin + round(($ymax - $ymin) / 2)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7176f7720263ce2faeeb36cc8c09c747"></a><!-- doxytag: member="viewarene2.php::$coord" ref="7176f7720263ce2faeeb36cc8c09c747" args="['x']" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="viewarene2_8php.html#5b12908e955b1d62c5d4a94b8595d5c6">foreach</a> ($arene_xml as $type_arene) $coord['x'] = $xmin + round(($xmax - $xmin) / 2)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f7a10ff175c7ccf01aecc329634865b0"></a><!-- doxytag: member="viewarene2.php::$fichier_arene" ref="f7a10ff175c7ccf01aecc329634865b0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$fichier_arene = new DomDocument()          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3080fd46a4909b3b73deb2430477d113"></a><!-- doxytag: member="viewarene2.php::$index" ref="3080fd46a4909b3b73deb2430477d113" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="viewarene2_8php.html#5b12908e955b1d62c5d4a94b8595d5c6">foreach</a> ($liste_joueurs as $joueur) $index = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="87e0802a923e3726cf7ca949e4a8aa65"></a><!-- doxytag: member="viewarene2.php::$index_m" ref="87e0802a923e3726cf7ca949e4a8aa65" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$index_m = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="59ef57bf7aa1bcf69b885a89fe5f482d"></a><!-- doxytag: member="viewarene2.php::$race" ref="59ef57bf7aa1bcf69b885a89fe5f482d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$race = array()          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="63a7a283ea5dee8af1e2d5a3435bf370"></a><!-- doxytag: member="viewarene2.php::$req" ref="63a7a283ea5dee8af1e2d5a3435bf370" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$req = $<a class="el" href="classdb.html">db</a>-&gt;query($requete)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1ea21bf4b1af1ebda1b8c63b0e364ce9"></a><!-- doxytag: member="viewarene2.php::$requete" ref="1ea21bf4b1af1ebda1b8c63b0e364ce9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$requete = &quot;SELECT id FROM arenes_joueurs WHERE id = &quot;.$_SESSION['ID']          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="304a5f3ee821ee7f0d715511a3a7c394"></a><!-- doxytag: member="viewarene2.php::$row_j" ref="304a5f3ee821ee7f0d715511a3a7c394" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="viewarene2_8php.html#5b12908e955b1d62c5d4a94b8595d5c6">foreach</a> ($liste_cases as $cases) $row_j = array()          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3a1a1e3d9ca1b01420a05f83f96b3588"></a><!-- doxytag: member="viewarene2.php::$row_map" ref="3a1a1e3d9ca1b01420a05f83f96b3588" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$row_map = array()          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4820d696737bb1b850dbb7bd14c59a90"></a><!-- doxytag: member="viewarene2.php::$roy" ref="4820d696737bb1b850dbb7bd14c59a90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$roy = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1c73de215370276e3a85c875f4be2a6c"></a><!-- doxytag: member="viewarene2.php::$viewer" ref="1c73de215370276e3a85c875f4be2a6c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$viewer = recupperso($_SESSION['ID'])          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f3a16c5f0dd7a74cf9acf6a49fff73a7"></a><!-- doxytag: member="viewarene2.php::$x" ref="f3a16c5f0dd7a74cf9acf6a49fff73a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$x = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6e745d40e9df8b5cc8a1761b88713dc5"></a><!-- doxytag: member="viewarene2.php::$x_joueurs" ref="6e745d40e9df8b5cc8a1761b88713dc5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$x_joueurs = $row_j[$index]['x']          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="77b973d137fb33212e018b042df6e3e7"></a><!-- doxytag: member="viewarene2.php::$y" ref="77b973d137fb33212e018b042df6e3e7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$y = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4e9f7fae219ddc10f7fdb429bcb33e40"></a><!-- doxytag: member="viewarene2.php::$y_joueurs" ref="4e9f7fae219ddc10f7fdb429bcb33e40" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$y_joueurs = $row_j[$index]['y']          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9cbfe95d61703a84674cecf0f4ff8370"></a><!-- doxytag: member="viewarene2.php::for" ref="9cbfe95d61703a84674cecf0f4ff8370" args="($i=$xmin;$i&lt;=$xmax;$i++)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="viewarene2_8php.html#9cbfe95d61703a84674cecf0f4ff8370">for</a> = &quot;SELECT COUNT(*) AS tot, ceil(x/10) as cx, ceil(y/10) as cy FROM journal WHERE DAY(time )=DAY(CURDATE())AND MONTH(time )=MONTH(CURDATE())AND YEAR(time )=YEAR(CURDATE())AND action ='attaque' AND x &lt;&gt; 0 AND y &lt;&gt; 0 GROUP BY cx, cy ORDER BY tot DESC&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5b12908e955b1d62c5d4a94b8595d5c6"></a><!-- doxytag: member="viewarene2.php::foreach" ref="5b12908e955b1d62c5d4a94b8595d5c6" args="($race as $nom=&gt; $r)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="viewarene2_8php.html#5b12908e955b1d62c5d4a94b8595d5c6">foreach</a>($race as $nom=&gt; $r)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="898248c6f0772cc779881fffc50ca91a"></a><!-- doxytag: member="viewarene2.php::if" ref="898248c6f0772cc779881fffc50ca91a" args="($db-&gt;num_rows &gt; 0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="viewarene2_8php.html#898248c6f0772cc779881fffc50ca91a">if</a>($<a class="el" href="classdb.html">db</a>-&gt;num_rows &gt; 0)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="223fe6cddffc1406cf93390144f0f6f7"></a><!-- doxytag: member="viewarene2.php::while" ref="223fe6cddffc1406cf93390144f0f6f7" args="(($row=current($row_map))!==false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="viewarene2_8php.html#223fe6cddffc1406cf93390144f0f6f7">while</a>(($row=current($row_map))!==false)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Généré le Thu Sep 3 23:11:19 2009 pour Starshine Online par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
